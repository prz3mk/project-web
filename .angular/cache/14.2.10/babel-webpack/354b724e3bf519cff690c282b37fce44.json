{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Directive, Injectable, TemplateRef, Component, ViewEncapsulation, ContentChild, Input, NgModule } from '@angular/core';\nimport * as i1 from '@angular/router';\nimport { GuardsCheckEnd, RouterModule } from '@angular/router';\nimport { filter, map } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n/**\n * This directive is used to customize the breadcrumb label behavior\n * *xngBreadcrumbItem directive can be used in the child element of xng-breadcrumb\n * Usage: refer to the demo - app.component.html\n */\n\nfunction BreadcrumbComponent_ng_container_2_a_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_a_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const breadcrumb_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(breadcrumb_r1.label);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"xng-breadcrumb-link-disabled\": a0\n  };\n};\n\nconst _c1 = function (a0, a1, a2, a3, a4, a5) {\n  return {\n    $implicit: a0,\n    info: a1,\n    last: a2,\n    first: a3,\n    index: a4,\n    count: a5\n  };\n};\n\nfunction BreadcrumbComponent_ng_container_2_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 7);\n    i0.ɵɵtemplate(1, BreadcrumbComponent_ng_container_2_a_2_ng_container_1_Template, 1, 0, \"ng-container\", 8);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_a_2_ng_container_2_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    const breadcrumb_r1 = ctx_r12.$implicit;\n    const isLast_r2 = ctx_r12.last;\n    const isFirst_r3 = ctx_r12.first;\n    const index_r4 = ctx_r12.index;\n    const count_r5 = ctx_r12.count;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, breadcrumb_r1.disable))(\"routerLink\", breadcrumb_r1.routeInterceptor ? breadcrumb_r1.routeInterceptor(breadcrumb_r1.routeLink, breadcrumb_r1) : breadcrumb_r1.routeLink)(\"queryParams\", ctx_r6.preserveQueryParams ? breadcrumb_r1.queryParams : undefined)(\"fragment\", ctx_r6.preserveFragment ? breadcrumb_r1.fragment : undefined)(\"target\", ctx_r6.anchorTarget ? ctx_r6.anchorTarget : \"_self\");\n    i0.ɵɵattribute(\"aria-disabled\", breadcrumb_r1.disable)(\"tabIndex\", breadcrumb_r1.disable ? -1 : 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r6.itemTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction6(12, _c1, breadcrumb_r1.label, breadcrumb_r1.info, isLast_r2, isFirst_r3, index_r4, count_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.itemTemplate);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_label_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_label_3_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const breadcrumb_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(breadcrumb_r1.label);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_label_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 10);\n    i0.ɵɵtemplate(1, BreadcrumbComponent_ng_container_2_label_3_ng_container_1_Template, 1, 0, \"ng-container\", 8);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_label_3_ng_container_2_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    const breadcrumb_r1 = ctx_r16.$implicit;\n    const isLast_r2 = ctx_r16.last;\n    const isFirst_r3 = ctx_r16.first;\n    const index_r4 = ctx_r16.index;\n    const count_r5 = ctx_r16.count;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r7.itemTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction6(3, _c1, breadcrumb_r1.label, breadcrumb_r1.info, isLast_r2, isFirst_r3, index_r4, count_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.itemTemplate);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_li_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_li_4_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r18.separator);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 11);\n    i0.ɵɵtemplate(1, BreadcrumbComponent_ng_container_2_li_4_ng_container_1_Template, 1, 0, \"ng-container\", 12);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_li_4_ng_container_2_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r8.separatorTemplate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.separatorTemplate);\n  }\n}\n\nfunction BreadcrumbComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 3);\n    i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_a_2_Template, 3, 19, \"a\", 4);\n    i0.ɵɵtemplate(3, BreadcrumbComponent_ng_container_2_label_3_Template, 3, 10, \"label\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, BreadcrumbComponent_ng_container_2_li_4_Template, 3, 2, \"li\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const isLast_r2 = ctx.last;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !isLast_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", isLast_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !isLast_r2);\n  }\n}\n\nclass BreadcrumbItemDirective {}\n\nBreadcrumbItemDirective.ɵfac = function BreadcrumbItemDirective_Factory(t) {\n  return new (t || BreadcrumbItemDirective)();\n};\n\nBreadcrumbItemDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: BreadcrumbItemDirective,\n  selectors: [[\"\", \"xngBreadcrumbItem\", \"\"]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbItemDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[xngBreadcrumbItem]'\n    }]\n  }], null, null);\n})();\n\nconst PATH_PARAM = {\n  PREFIX: ':',\n  REGEX_IDENTIFIER: '/:[^/]+',\n  REGEX_REPLACER: '/[^/]+'\n};\nconst ALIAS_PREFIX = '@';\n\nconst isNonEmpty = obj => {\n  return obj && Object.keys(obj).length > 0;\n};\n\nclass BreadcrumbService {\n  constructor(activatedRoute, router) {\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.baseHref = '/';\n    /**\n     * dynamicBreadcrumbStore holds information about dynamically updated breadcrumbs.\n     * Breadcrumbs can be set from anywhere (component, service) in the app.\n     * On every breadcrumb update check this store and use the info if available.\n     */\n\n    this.dynamicBreadcrumbStore = [];\n    /**\n     * breadcrumbList for the current route\n     * When breadcrumb info is changed dynamically, check if the currentBreadcrumbs is effected\n     * If effected, update the change and emit a new stream\n     */\n\n    this.currentBreadcrumbs = [];\n    this.previousBreadcrumbs = [];\n    /**\n     * Breadcrumbs observable to be subscribed by BreadcrumbComponent\n     * Emits on every route change OR dynamic update of breadcrumb\n     */\n\n    this.breadcrumbs = new BehaviorSubject([]);\n    this.breadcrumbs$ = this.breadcrumbs.asObservable();\n    this.detectRouteChanges();\n  }\n  /**\n   * Whenever route changes build breadcrumb list again\n   */\n\n\n  detectRouteChanges() {\n    // Special case where breadcrumb service & component instantiates after a route is navigated.\n    // Ex: put breadcrumbs within *ngIf and this.router.events would be empty\n    // This check is also required where  { initialNavigation: 'enabledBlocking' } is applied to routes\n    this.setupBreadcrumbs(this.activatedRoute.snapshot);\n    this.router.events.pipe(filter(event => event instanceof GuardsCheckEnd)).subscribe(event => {\n      // activatedRoute doesn't carry data when shouldReuseRoute returns false\n      // use the event data with GuardsCheckEnd as workaround\n      // Check for shouldActivate in case where the authGuard returns false the breadcrumbs shouldn't be changed\n      if (event.shouldActivate) {\n        this.setupBreadcrumbs(event.state.root);\n      }\n    });\n  }\n\n  setupBreadcrumbs(activatedRouteSnapshot) {\n    this.previousBreadcrumbs = this.currentBreadcrumbs; // breadcrumb label for base OR root path. Usually, this can be set as 'Home'\n\n    const rootBreadcrumb = this.getRootBreadcrumb();\n    this.currentBreadcrumbs = rootBreadcrumb ? [rootBreadcrumb] : [];\n    this.prepareBreadcrumbList(activatedRouteSnapshot, this.baseHref);\n  }\n\n  getRootBreadcrumb() {\n    const rootConfig = this.router.config.find(config => config.path === '');\n    const rootBreadcrumb = this.extractObject(rootConfig?.data?.breadcrumb);\n    const storeItem = this.getFromStore(rootBreadcrumb.alias, '/');\n\n    if (isNonEmpty(rootBreadcrumb) || isNonEmpty(storeItem)) {\n      return { ...storeItem,\n        ...rootBreadcrumb,\n        routeLink: this.baseHref,\n        ...this.getQueryParamsFromPreviousList('/')\n      };\n    }\n  }\n\n  prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix) {\n    const {\n      path,\n      breadcrumb\n    } = this.parseRouteData(activatedRouteSnapshot.routeConfig);\n    const resolvedSegment = this.resolvePathSegment(path, activatedRouteSnapshot);\n    const routeLink = `${routeLinkPrefix}${resolvedSegment}`;\n    const storeItem = this.getFromStore(breadcrumb.alias, routeLink);\n    const label = this.extractLabel(storeItem?.label || breadcrumb?.label, resolvedSegment);\n    let isAutoGeneratedLabel = false;\n    let autoGeneratedLabel = '';\n\n    if (!label) {\n      isAutoGeneratedLabel = true;\n      autoGeneratedLabel = resolvedSegment;\n    }\n\n    return { ...storeItem,\n      ...breadcrumb,\n      label: isAutoGeneratedLabel ? autoGeneratedLabel : label,\n      routeLink,\n      isAutoGeneratedLabel,\n      ...this.getQueryParamsFromPreviousList(routeLink)\n    };\n  }\n\n  prepareBreadcrumbList(activatedRouteSnapshot, routeLinkPrefix) {\n    if (activatedRouteSnapshot.routeConfig?.path) {\n      const breadcrumbItem = this.prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix);\n      this.currentBreadcrumbs.push(breadcrumbItem);\n\n      if (activatedRouteSnapshot.firstChild) {\n        return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, breadcrumbItem.routeLink + '/');\n      }\n    } else if (activatedRouteSnapshot.firstChild) {\n      return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, routeLinkPrefix);\n    }\n\n    const lastCrumb = this.currentBreadcrumbs[this.currentBreadcrumbs.length - 1];\n    this.setQueryParamsForActiveBreadcrumb(lastCrumb, activatedRouteSnapshot); // remove breadcrumb items that needs to be hidden\n\n    const breadcrumbsToShow = this.currentBreadcrumbs.filter(item => !item.skip);\n    this.breadcrumbs.next(breadcrumbsToShow);\n  }\n\n  getFromStore(alias, routeLink) {\n    return this.dynamicBreadcrumbStore.find(item => {\n      return alias && alias === item.alias || routeLink && routeLink === item.routeLink || this.matchRegex(routeLink, item.routeRegex);\n    });\n  }\n  /**\n   * use exact match instead of regexp.test\n   * for /mentor/[^/]+ we should match '/mentor/12' but not '/mentor/12/abc'\n   */\n\n\n  matchRegex(routeLink, routeRegex) {\n    const match = routeLink.match(new RegExp(routeRegex));\n    return match?.[0] === routeLink;\n  }\n  /**\n   * if the path segment has route params, read the param value from url\n   * for each segment of route this gets called\n   *\n   * for mentor/:id/view - it gets called with mentor, :id, view 3 times\n   */\n\n\n  resolvePathSegment(segment, activatedRouteSnapshot) {\n    //quirk -segment can be defined as view/:id in route config in which case you need to make it view/<resolved-param>\n    if (segment.includes(PATH_PARAM.PREFIX)) {\n      Object.entries(activatedRouteSnapshot.params).forEach(([key, value]) => {\n        segment = segment.replace(`:${key}`, `${value}`);\n      });\n    }\n\n    return segment;\n  }\n  /**\n   * queryParams & fragments for previous breadcrumb path are copied over to new list\n   */\n\n\n  getQueryParamsFromPreviousList(routeLink) {\n    const {\n      queryParams,\n      fragment\n    } = this.previousBreadcrumbs.find(item => item.routeLink === routeLink) || {};\n    return {\n      queryParams,\n      fragment\n    };\n  }\n  /**\n   * set current activated route query params to the last breadcrumb item\n   */\n\n\n  setQueryParamsForActiveBreadcrumb(lastItem, activatedRouteSnapshot) {\n    if (lastItem) {\n      const {\n        queryParams,\n        fragment\n      } = activatedRouteSnapshot;\n      lastItem.queryParams = queryParams ? { ...queryParams\n      } : undefined;\n      lastItem.fragment = fragment;\n    }\n  }\n  /**\n   * For a specific route, breadcrumb can be defined either on parent OR it's child(which has empty path)\n   * When both are defined, child takes precedence\n   *\n   * Ex: Below we are setting breadcrumb on both parent and child.\n   * So, child takes precedence and \"Defined On Child\" is displayed for the route 'home'\n   * { path: 'home', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule) , data: {breadcrumb: \"Defined On Module\"}}\n   *                                                AND\n   * children: [\n   *   { path: '', component: ShowUserComponent, data: {breadcrumb: \"Defined On Child\" }\n   * ]\n   */\n\n\n  parseRouteData(routeConfig) {\n    const {\n      path,\n      data\n    } = routeConfig;\n    const breadcrumb = this.mergeWithBaseChildData(routeConfig, data?.breadcrumb);\n    return {\n      path,\n      breadcrumb\n    };\n  }\n  /**\n   * get empty children of a module or Component. Empty child is the one with path: ''\n   * When parent and it's children (that has empty route path) define data merge them both with child taking precedence\n   */\n\n\n  mergeWithBaseChildData(routeConfig, config) {\n    if (!routeConfig) {\n      return this.extractObject(config);\n    }\n\n    let baseChild;\n\n    if (routeConfig.loadChildren) {\n      // To handle a module with empty child route\n      baseChild = routeConfig._loadedRoutes.find(route => route.path === '');\n    } else if (routeConfig.children) {\n      // To handle a component with empty child route\n      baseChild = routeConfig.children.find(route => route.path === '');\n    }\n\n    const childConfig = baseChild?.data?.breadcrumb;\n    return childConfig ? this.mergeWithBaseChildData(baseChild, { ...this.extractObject(config),\n      ...this.extractObject(childConfig)\n    }) : this.extractObject(config);\n  }\n  /**\n   * Update breadcrumb dynamically\n   *\n   * key can be a path | alias\n   *\n   * 1) Using complete route path. route can be passed the same way you define angular routes\n   * - path can be passed as 'exact path(routeLink)' or 'path with params(routeRegex)'\n   * - update label Ex: set('/mentor', 'Mentor'), set('/mentor/:id', 'Mentor Details')\n   * - change visibility Ex: set('/mentor/:id/edit', { skip: true })\n   * ------------------------------------------ OR ------------------------------------------\n   * 2) Using route alias (prefixed with '@'). alias should be unique for a route\n   * - update label Ex: set('@mentor', 'Enabler')\n   * - change visibility Ex: set('@mentorEdit', { skip: true })\n   *\n   *\n   * value can be string | BreadcrumbObject | BreadcrumbFunction\n   */\n\n\n  set(key, breadcrumb) {\n    const breadcrumbObject = this.extractObject(breadcrumb);\n    let updateArgs;\n\n    if (key.startsWith(ALIAS_PREFIX)) {\n      updateArgs = ['alias', { ...breadcrumbObject,\n        alias: key.slice(1)\n      }];\n    } else if (key.includes(PATH_PARAM.PREFIX)) {\n      updateArgs = ['routeRegex', { ...breadcrumbObject,\n        routeRegex: this.buildRegex(key)\n      }];\n    } else {\n      updateArgs = ['routeLink', { ...breadcrumbObject,\n        routeLink: this.ensureLeadingSlash(key)\n      }];\n    } // For this route if previously a breadcrumb is not defined that sets isAutoGeneratedLabel: true\n    // change it to false since this is user supplied value\n\n\n    updateArgs[1].isAutoGeneratedLabel = false;\n    this.updateStore(...updateArgs);\n    this.updateCurrentBreadcrumbs(...updateArgs);\n  }\n  /**\n   * Update the store to reuse for dynamic declarations\n   * If the store already has this route definition update it, else add\n   */\n\n\n  updateStore(key, breadcrumb) {\n    const storeItemIndex = this.dynamicBreadcrumbStore.findIndex(item => {\n      return breadcrumb[key] === item[key];\n    });\n\n    if (storeItemIndex > -1) {\n      this.dynamicBreadcrumbStore[storeItemIndex] = { ...this.dynamicBreadcrumbStore[storeItemIndex],\n        ...breadcrumb\n      };\n    } else {\n      this.dynamicBreadcrumbStore.push({ ...breadcrumb\n      });\n    }\n  }\n  /**\n   * If breadcrumb is present in current breadcrumbs update it and emit new stream\n   */\n\n\n  updateCurrentBreadcrumbs(key, breadcrumb) {\n    const itemIndex = this.currentBreadcrumbs.findIndex(item => {\n      return key === 'routeRegex' ? this.matchRegex(item.routeLink, breadcrumb[key]) : breadcrumb[key] === item[key];\n    });\n\n    if (itemIndex > -1) {\n      this.currentBreadcrumbs[itemIndex] = { ...this.currentBreadcrumbs[itemIndex],\n        ...breadcrumb\n      };\n      const breadcrumbsToShow = this.currentBreadcrumbs.filter(item => !item.skip);\n      this.breadcrumbs.next([...breadcrumbsToShow]);\n    }\n  }\n  /**\n   * For a route with path param, we create regex dynamically from angular route syntax\n   * '/mentor/:id' becomes '/mentor/[^/]',\n   * breadcrumbService.set('/mentor/:id', 'Uday') should update 'Uday' as label for '/mentor/2' OR 'mentor/ada'\n   */\n\n\n  buildRegex(path) {\n    return this.ensureLeadingSlash(path).replace(new RegExp(PATH_PARAM.REGEX_IDENTIFIER, 'g'), PATH_PARAM.REGEX_REPLACER);\n  }\n\n  ensureLeadingSlash(path) {\n    return path.startsWith('/') ? path : `/${path}`;\n  }\n  /**\n   * In App's RouteConfig, breadcrumb can be defined as a string OR a function OR an object\n   *\n   * string: simple static breadcrumb label for a path\n   * function: callback that gets invoked with resolved path param\n   * object: additional data defined along with breadcrumb label that gets passed to *xngBreadcrumbItem directive\n   */\n\n\n  extractLabel(config, resolvedParam) {\n    const label = typeof config === 'object' ? config.label : config;\n\n    if (typeof label === 'function') {\n      return label(resolvedParam);\n    }\n\n    return label;\n  }\n\n  extractObject(config) {\n    // don't include {label} if config is undefined. This is important since we merge the configs\n    if (config && (typeof config === 'string' || typeof config === 'function')) {\n      return {\n        label: config\n      };\n    }\n\n    return config || {};\n  }\n\n}\n\nBreadcrumbService.ɵfac = function BreadcrumbService_Factory(t) {\n  return new (t || BreadcrumbService)(i0.ɵɵinject(i1.ActivatedRoute), i0.ɵɵinject(i1.Router));\n};\n\nBreadcrumbService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: BreadcrumbService,\n  factory: BreadcrumbService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.ActivatedRoute\n    }, {\n      type: i1.Router\n    }];\n  }, null);\n})();\n\nclass BreadcrumbComponent {\n  constructor(breadcrumbService, activateRoute) {\n    this.breadcrumbService = breadcrumbService;\n    this._separator = '/';\n    /**\n     * If true, breadcrumb is auto generated even without any mapping label\n     * Default label is same as route segment\n     */\n\n    this.autoGenerate = true;\n    /**\n     * By default query params will be preserved with breadcrumbs\n     */\n\n    this.preserveQueryParams = true;\n    /**\n     * By default query fragments will be preserved with breadcrumbs\n     */\n\n    this.preserveFragment = true;\n    /**\n     * custom class provided by consumer to increase specificity\n     * This will benefit to override styles that are conflicting\n     */\n\n    this.class = '';\n    this.setupMessage = 'not set up yet';\n    this.someParameterValue = null; // breadcrumb inside ngIf works only this way\n\n    activateRoute.params.subscribe(params => {\n      this.setupComponent(params['someParam']);\n    });\n  }\n  /**\n   * separator between breadcrumbs, defaults to '/'.\n   * User can customize separator either by passing a String or Template\n   *\n   * String --> Ex: <xng-breadcrumb separator=\"-\"> </xng-breadcrumb>\n   *\n   * Template --> Ex: <xng-breadcrumb [separator]=\"separatorTemplate\"> </xng-breadcrumb>\n   * <ng-template #separatorTemplate><mat-icon>arrow_right</mat-icon></ng-template>\n   */\n\n\n  set separator(value) {\n    if (value instanceof TemplateRef) {\n      this.separatorTemplate = value;\n      this._separator = undefined;\n    } else {\n      this.separatorTemplate = undefined;\n      this._separator = value || '/';\n    }\n  }\n\n  get separator() {\n    return this._separator;\n  }\n\n  setupComponent(someParam) {\n    this.setupMessage = 'set up at ' + new Date();\n    this.someParameterValue = someParam;\n  }\n\n  ngOnInit() {\n    this.breadcrumbs$ = this.breadcrumbService.breadcrumbs$.pipe(map(breadcrumbs => {\n      return breadcrumbs.filter(breadcrumb => {\n        // Usually, breadcrumb list can contain a combination of auto generated and user specified labels\n        // this filters autogenerated labels in case of \"[autoGenerate]: false\"\n        if (this.autoGenerate) {\n          return true;\n        }\n\n        return !breadcrumb.isAutoGeneratedLabel;\n      }).map(breadcrumb => {\n        // Do not mutate breadcrumb as its source of truth.\n        // There can be scenarios where we can have multiple xng-breadcrumb instances in page\n        const {\n          routeInterceptor,\n          routeLink\n        } = breadcrumb;\n        return { ...breadcrumb,\n          routeLink: routeInterceptor?.(routeLink, breadcrumb) || routeLink\n        };\n      });\n    }));\n  }\n\n}\n\nBreadcrumbComponent.ɵfac = function BreadcrumbComponent_Factory(t) {\n  return new (t || BreadcrumbComponent)(i0.ɵɵdirectiveInject(BreadcrumbService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\n\nBreadcrumbComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: BreadcrumbComponent,\n  selectors: [[\"xng-breadcrumb\"]],\n  contentQueries: function BreadcrumbComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, BreadcrumbItemDirective, 5, TemplateRef);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.itemTemplate = _t.first);\n    }\n  },\n  inputs: {\n    autoGenerate: \"autoGenerate\",\n    preserveQueryParams: \"preserveQueryParams\",\n    preserveFragment: \"preserveFragment\",\n    class: \"class\",\n    anchorTarget: \"anchorTarget\",\n    separator: \"separator\"\n  },\n  decls: 4,\n  vars: 4,\n  consts: [[\"aria-label\", \"breadcrumb\", 1, \"xng-breadcrumb-root\", 3, \"ngClass\"], [1, \"xng-breadcrumb-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"xng-breadcrumb-item\"], [\"class\", \"xng-breadcrumb-link\", \"role\", \"button\", \"rel\", \"noopener noreferrer\", 3, \"ngClass\", \"routerLink\", \"queryParams\", \"fragment\", \"target\", 4, \"ngIf\"], [\"class\", \"xng-breadcrumb-trail\", 4, \"ngIf\"], [\"class\", \"xng-breadcrumb-separator\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"role\", \"button\", \"rel\", \"noopener noreferrer\", 1, \"xng-breadcrumb-link\", 3, \"ngClass\", \"routerLink\", \"queryParams\", \"fragment\", \"target\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [4, \"ngIf\"], [1, \"xng-breadcrumb-trail\"], [\"aria-hidden\", \"true\", 1, \"xng-breadcrumb-separator\"], [4, \"ngTemplateOutlet\"]],\n  template: function BreadcrumbComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"ol\", 1);\n      i0.ɵɵtemplate(2, BreadcrumbComponent_ng_container_2_Template, 5, 3, \"ng-container\", 2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", ctx.class);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 2, ctx.breadcrumbs$));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.NgTemplateOutlet, i1.RouterLink, i3.AsyncPipe],\n  styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbComponent, [{\n    type: Component,\n    args: [{\n      selector: 'xng-breadcrumb',\n      encapsulation: ViewEncapsulation.None,\n      template: \"<nav aria-label=\\\"breadcrumb\\\" class=\\\"xng-breadcrumb-root\\\" [ngClass]=\\\"class\\\">\\n  <ol class=\\\"xng-breadcrumb-list\\\">\\n    <ng-container\\n      *ngFor=\\\"\\n        let breadcrumb of breadcrumbs$ | async;\\n        last as isLast;\\n        first as isFirst;\\n        index as index;\\n        count as count\\n      \\\"\\n    >\\n      <li class=\\\"xng-breadcrumb-item\\\">\\n        <a\\n          *ngIf=\\\"!isLast\\\"\\n          class=\\\"xng-breadcrumb-link\\\"\\n          [ngClass]=\\\"{ 'xng-breadcrumb-link-disabled': breadcrumb.disable }\\\"\\n          [attr.aria-disabled]=\\\"breadcrumb.disable\\\"\\n          [attr.tabIndex]=\\\"breadcrumb.disable ? -1 : 0\\\"\\n          role=\\\"button\\\"\\n          rel=\\\"noopener noreferrer\\\"\\n          [routerLink]=\\\"\\n            breadcrumb.routeInterceptor\\n              ? breadcrumb.routeInterceptor(breadcrumb.routeLink, breadcrumb)\\n              : breadcrumb.routeLink\\n          \\\"\\n          [queryParams]=\\\"\\n            preserveQueryParams ? breadcrumb.queryParams : undefined\\n          \\\"\\n          [fragment]=\\\"preserveFragment ? breadcrumb.fragment : undefined\\\"\\n          [target]=\\\"anchorTarget ? anchorTarget : '_self'\\\"\\n        >\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </a>\\n\\n        <label *ngIf=\\\"isLast\\\" class=\\\"xng-breadcrumb-trail\\\">\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </label>\\n      </li>\\n\\n      <li *ngIf=\\\"!isLast\\\" class=\\\"xng-breadcrumb-separator\\\" aria-hidden=\\\"true\\\">\\n        <ng-container *ngTemplateOutlet=\\\"separatorTemplate\\\"></ng-container>\\n        <ng-container *ngIf=\\\"!separatorTemplate\\\">{{ separator }}</ng-container>\\n      </li>\\n    </ng-container>\\n  </ol>\\n</nav>\\n\",\n      styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: BreadcrumbService\n    }, {\n      type: i1.ActivatedRoute\n    }];\n  }, {\n    itemTemplate: [{\n      type: ContentChild,\n      args: [BreadcrumbItemDirective, {\n        static: false,\n        read: TemplateRef\n      }]\n    }],\n    autoGenerate: [{\n      type: Input\n    }],\n    preserveQueryParams: [{\n      type: Input\n    }],\n    preserveFragment: [{\n      type: Input\n    }],\n    class: [{\n      type: Input\n    }],\n    anchorTarget: [{\n      type: Input\n    }],\n    separator: [{\n      type: Input,\n      args: ['separator']\n    }]\n  });\n})();\n\nclass BreadcrumbModule {}\n\nBreadcrumbModule.ɵfac = function BreadcrumbModule_Factory(t) {\n  return new (t || BreadcrumbModule)();\n};\n\nBreadcrumbModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: BreadcrumbModule\n});\nBreadcrumbModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [CommonModule, RouterModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BreadcrumbModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [BreadcrumbComponent, BreadcrumbItemDirective],\n      imports: [CommonModule, RouterModule],\n      exports: [BreadcrumbComponent, BreadcrumbItemDirective]\n    }]\n  }], null, null);\n})();\n/*\n * Public API Surface of xng-breadcrumb\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { BreadcrumbComponent, BreadcrumbItemDirective, BreadcrumbModule, BreadcrumbService };","map":{"version":3,"names":["i0","Directive","Injectable","TemplateRef","Component","ViewEncapsulation","ContentChild","Input","NgModule","i1","GuardsCheckEnd","RouterModule","filter","map","BehaviorSubject","i3","CommonModule","BreadcrumbItemDirective","ɵfac","ɵdir","type","args","selector","PATH_PARAM","PREFIX","REGEX_IDENTIFIER","REGEX_REPLACER","ALIAS_PREFIX","isNonEmpty","obj","Object","keys","length","BreadcrumbService","constructor","activatedRoute","router","baseHref","dynamicBreadcrumbStore","currentBreadcrumbs","previousBreadcrumbs","breadcrumbs","breadcrumbs$","asObservable","detectRouteChanges","setupBreadcrumbs","snapshot","events","pipe","event","subscribe","shouldActivate","state","root","activatedRouteSnapshot","rootBreadcrumb","getRootBreadcrumb","prepareBreadcrumbList","rootConfig","config","find","path","extractObject","data","breadcrumb","storeItem","getFromStore","alias","routeLink","getQueryParamsFromPreviousList","prepareBreadcrumbItem","routeLinkPrefix","parseRouteData","routeConfig","resolvedSegment","resolvePathSegment","label","extractLabel","isAutoGeneratedLabel","autoGeneratedLabel","breadcrumbItem","push","firstChild","lastCrumb","setQueryParamsForActiveBreadcrumb","breadcrumbsToShow","item","skip","next","matchRegex","routeRegex","match","RegExp","segment","includes","entries","params","forEach","key","value","replace","queryParams","fragment","lastItem","undefined","mergeWithBaseChildData","baseChild","loadChildren","_loadedRoutes","route","children","childConfig","set","breadcrumbObject","updateArgs","startsWith","slice","buildRegex","ensureLeadingSlash","updateStore","updateCurrentBreadcrumbs","storeItemIndex","findIndex","itemIndex","resolvedParam","ActivatedRoute","Router","ɵprov","providedIn","BreadcrumbComponent","breadcrumbService","activateRoute","_separator","autoGenerate","preserveQueryParams","preserveFragment","class","setupMessage","someParameterValue","setupComponent","separator","separatorTemplate","someParam","Date","ngOnInit","routeInterceptor","ɵcmp","NgClass","NgForOf","NgIf","NgTemplateOutlet","RouterLink","AsyncPipe","encapsulation","None","template","styles","itemTemplate","static","read","anchorTarget","BreadcrumbModule","ɵmod","ɵinj","declarations","imports","exports"],"sources":["C:/Users/przem/Desktop/trybus/Ecommerce-App-ASP.NET-Core-7-With-Angular-2023-Client-/node_modules/xng-breadcrumb/fesm2020/xng-breadcrumb.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Directive, Injectable, TemplateRef, Component, ViewEncapsulation, ContentChild, Input, NgModule } from '@angular/core';\nimport * as i1 from '@angular/router';\nimport { GuardsCheckEnd, RouterModule } from '@angular/router';\nimport { filter, map } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/**\n * This directive is used to customize the breadcrumb label behavior\n * *xngBreadcrumbItem directive can be used in the child element of xng-breadcrumb\n * Usage: refer to the demo - app.component.html\n */\nclass BreadcrumbItemDirective {\n}\nBreadcrumbItemDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbItemDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nBreadcrumbItemDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.0.0\", type: BreadcrumbItemDirective, selector: \"[xngBreadcrumbItem]\", ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbItemDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[xngBreadcrumbItem]',\n                }]\n        }] });\n\nconst PATH_PARAM = {\n    PREFIX: ':',\n    REGEX_IDENTIFIER: '/:[^/]+',\n    REGEX_REPLACER: '/[^/]+',\n};\nconst ALIAS_PREFIX = '@';\nconst isNonEmpty = (obj) => {\n    return obj && Object.keys(obj).length > 0;\n};\nclass BreadcrumbService {\n    constructor(activatedRoute, router) {\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.baseHref = '/';\n        /**\n         * dynamicBreadcrumbStore holds information about dynamically updated breadcrumbs.\n         * Breadcrumbs can be set from anywhere (component, service) in the app.\n         * On every breadcrumb update check this store and use the info if available.\n         */\n        this.dynamicBreadcrumbStore = [];\n        /**\n         * breadcrumbList for the current route\n         * When breadcrumb info is changed dynamically, check if the currentBreadcrumbs is effected\n         * If effected, update the change and emit a new stream\n         */\n        this.currentBreadcrumbs = [];\n        this.previousBreadcrumbs = [];\n        /**\n         * Breadcrumbs observable to be subscribed by BreadcrumbComponent\n         * Emits on every route change OR dynamic update of breadcrumb\n         */\n        this.breadcrumbs = new BehaviorSubject([]);\n        this.breadcrumbs$ = this.breadcrumbs.asObservable();\n        this.detectRouteChanges();\n    }\n    /**\n     * Whenever route changes build breadcrumb list again\n     */\n    detectRouteChanges() {\n        // Special case where breadcrumb service & component instantiates after a route is navigated.\n        // Ex: put breadcrumbs within *ngIf and this.router.events would be empty\n        // This check is also required where  { initialNavigation: 'enabledBlocking' } is applied to routes\n        this.setupBreadcrumbs(this.activatedRoute.snapshot);\n        this.router.events\n            .pipe(filter((event) => event instanceof GuardsCheckEnd))\n            .subscribe((event) => {\n            // activatedRoute doesn't carry data when shouldReuseRoute returns false\n            // use the event data with GuardsCheckEnd as workaround\n            // Check for shouldActivate in case where the authGuard returns false the breadcrumbs shouldn't be changed\n            if (event.shouldActivate) {\n                this.setupBreadcrumbs(event.state.root);\n            }\n        });\n    }\n    setupBreadcrumbs(activatedRouteSnapshot) {\n        this.previousBreadcrumbs = this.currentBreadcrumbs;\n        // breadcrumb label for base OR root path. Usually, this can be set as 'Home'\n        const rootBreadcrumb = this.getRootBreadcrumb();\n        this.currentBreadcrumbs = rootBreadcrumb ? [rootBreadcrumb] : [];\n        this.prepareBreadcrumbList(activatedRouteSnapshot, this.baseHref);\n    }\n    getRootBreadcrumb() {\n        const rootConfig = this.router.config.find((config) => config.path === '');\n        const rootBreadcrumb = this.extractObject(rootConfig?.data?.breadcrumb);\n        const storeItem = this.getFromStore(rootBreadcrumb.alias, '/');\n        if (isNonEmpty(rootBreadcrumb) || isNonEmpty(storeItem)) {\n            return {\n                ...storeItem,\n                ...rootBreadcrumb,\n                routeLink: this.baseHref,\n                ...this.getQueryParamsFromPreviousList('/'),\n            };\n        }\n    }\n    prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix) {\n        const { path, breadcrumb } = this.parseRouteData(activatedRouteSnapshot.routeConfig);\n        const resolvedSegment = this.resolvePathSegment(path, activatedRouteSnapshot);\n        const routeLink = `${routeLinkPrefix}${resolvedSegment}`;\n        const storeItem = this.getFromStore(breadcrumb.alias, routeLink);\n        const label = this.extractLabel(storeItem?.label || breadcrumb?.label, resolvedSegment);\n        let isAutoGeneratedLabel = false;\n        let autoGeneratedLabel = '';\n        if (!label) {\n            isAutoGeneratedLabel = true;\n            autoGeneratedLabel = resolvedSegment;\n        }\n        return {\n            ...storeItem,\n            ...breadcrumb,\n            label: isAutoGeneratedLabel ? autoGeneratedLabel : label,\n            routeLink,\n            isAutoGeneratedLabel,\n            ...this.getQueryParamsFromPreviousList(routeLink),\n        };\n    }\n    prepareBreadcrumbList(activatedRouteSnapshot, routeLinkPrefix) {\n        if (activatedRouteSnapshot.routeConfig?.path) {\n            const breadcrumbItem = this.prepareBreadcrumbItem(activatedRouteSnapshot, routeLinkPrefix);\n            this.currentBreadcrumbs.push(breadcrumbItem);\n            if (activatedRouteSnapshot.firstChild) {\n                return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, breadcrumbItem.routeLink + '/');\n            }\n        }\n        else if (activatedRouteSnapshot.firstChild) {\n            return this.prepareBreadcrumbList(activatedRouteSnapshot.firstChild, routeLinkPrefix);\n        }\n        const lastCrumb = this.currentBreadcrumbs[this.currentBreadcrumbs.length - 1];\n        this.setQueryParamsForActiveBreadcrumb(lastCrumb, activatedRouteSnapshot);\n        // remove breadcrumb items that needs to be hidden\n        const breadcrumbsToShow = this.currentBreadcrumbs.filter((item) => !item.skip);\n        this.breadcrumbs.next(breadcrumbsToShow);\n    }\n    getFromStore(alias, routeLink) {\n        return this.dynamicBreadcrumbStore.find((item) => {\n            return ((alias && alias === item.alias) ||\n                (routeLink && routeLink === item.routeLink) ||\n                this.matchRegex(routeLink, item.routeRegex));\n        });\n    }\n    /**\n     * use exact match instead of regexp.test\n     * for /mentor/[^/]+ we should match '/mentor/12' but not '/mentor/12/abc'\n     */\n    matchRegex(routeLink, routeRegex) {\n        const match = routeLink.match(new RegExp(routeRegex));\n        return match?.[0] === routeLink;\n    }\n    /**\n     * if the path segment has route params, read the param value from url\n     * for each segment of route this gets called\n     *\n     * for mentor/:id/view - it gets called with mentor, :id, view 3 times\n     */\n    resolvePathSegment(segment, activatedRouteSnapshot) {\n        //quirk -segment can be defined as view/:id in route config in which case you need to make it view/<resolved-param>\n        if (segment.includes(PATH_PARAM.PREFIX)) {\n            Object.entries(activatedRouteSnapshot.params).forEach(([key, value]) => {\n                segment = segment.replace(`:${key}`, `${value}`);\n            });\n        }\n        return segment;\n    }\n    /**\n     * queryParams & fragments for previous breadcrumb path are copied over to new list\n     */\n    getQueryParamsFromPreviousList(routeLink) {\n        const { queryParams, fragment } = this.previousBreadcrumbs.find((item) => item.routeLink === routeLink) ||\n            {};\n        return { queryParams, fragment };\n    }\n    /**\n     * set current activated route query params to the last breadcrumb item\n     */\n    setQueryParamsForActiveBreadcrumb(lastItem, activatedRouteSnapshot) {\n        if (lastItem) {\n            const { queryParams, fragment } = activatedRouteSnapshot;\n            lastItem.queryParams = queryParams ? { ...queryParams } : undefined;\n            lastItem.fragment = fragment;\n        }\n    }\n    /**\n     * For a specific route, breadcrumb can be defined either on parent OR it's child(which has empty path)\n     * When both are defined, child takes precedence\n     *\n     * Ex: Below we are setting breadcrumb on both parent and child.\n     * So, child takes precedence and \"Defined On Child\" is displayed for the route 'home'\n     * { path: 'home', loadChildren: () => import('./home/home.module').then((m) => m.HomeModule) , data: {breadcrumb: \"Defined On Module\"}}\n     *                                                AND\n     * children: [\n     *   { path: '', component: ShowUserComponent, data: {breadcrumb: \"Defined On Child\" }\n     * ]\n     */\n    parseRouteData(routeConfig) {\n        const { path, data } = routeConfig;\n        const breadcrumb = this.mergeWithBaseChildData(routeConfig, data?.breadcrumb);\n        return { path, breadcrumb };\n    }\n    /**\n     * get empty children of a module or Component. Empty child is the one with path: ''\n     * When parent and it's children (that has empty route path) define data merge them both with child taking precedence\n     */\n    mergeWithBaseChildData(routeConfig, config) {\n        if (!routeConfig) {\n            return this.extractObject(config);\n        }\n        let baseChild;\n        if (routeConfig.loadChildren) {\n            // To handle a module with empty child route\n            baseChild = routeConfig._loadedRoutes.find((route) => route.path === '');\n        }\n        else if (routeConfig.children) {\n            // To handle a component with empty child route\n            baseChild = routeConfig.children.find((route) => route.path === '');\n        }\n        const childConfig = baseChild?.data?.breadcrumb;\n        return childConfig\n            ? this.mergeWithBaseChildData(baseChild, {\n                ...this.extractObject(config),\n                ...this.extractObject(childConfig),\n            })\n            : this.extractObject(config);\n    }\n    /**\n     * Update breadcrumb dynamically\n     *\n     * key can be a path | alias\n     *\n     * 1) Using complete route path. route can be passed the same way you define angular routes\n     * - path can be passed as 'exact path(routeLink)' or 'path with params(routeRegex)'\n     * - update label Ex: set('/mentor', 'Mentor'), set('/mentor/:id', 'Mentor Details')\n     * - change visibility Ex: set('/mentor/:id/edit', { skip: true })\n     * ------------------------------------------ OR ------------------------------------------\n     * 2) Using route alias (prefixed with '@'). alias should be unique for a route\n     * - update label Ex: set('@mentor', 'Enabler')\n     * - change visibility Ex: set('@mentorEdit', { skip: true })\n     *\n     *\n     * value can be string | BreadcrumbObject | BreadcrumbFunction\n     */\n    set(key, breadcrumb) {\n        const breadcrumbObject = this.extractObject(breadcrumb);\n        let updateArgs;\n        if (key.startsWith(ALIAS_PREFIX)) {\n            updateArgs = ['alias', { ...breadcrumbObject, alias: key.slice(1) }];\n        }\n        else if (key.includes(PATH_PARAM.PREFIX)) {\n            updateArgs = [\n                'routeRegex',\n                { ...breadcrumbObject, routeRegex: this.buildRegex(key) },\n            ];\n        }\n        else {\n            updateArgs = [\n                'routeLink',\n                { ...breadcrumbObject, routeLink: this.ensureLeadingSlash(key) },\n            ];\n        }\n        // For this route if previously a breadcrumb is not defined that sets isAutoGeneratedLabel: true\n        // change it to false since this is user supplied value\n        updateArgs[1].isAutoGeneratedLabel = false;\n        this.updateStore(...updateArgs);\n        this.updateCurrentBreadcrumbs(...updateArgs);\n    }\n    /**\n     * Update the store to reuse for dynamic declarations\n     * If the store already has this route definition update it, else add\n     */\n    updateStore(key, breadcrumb) {\n        const storeItemIndex = this.dynamicBreadcrumbStore.findIndex((item) => {\n            return breadcrumb[key] === item[key];\n        });\n        if (storeItemIndex > -1) {\n            this.dynamicBreadcrumbStore[storeItemIndex] = {\n                ...this.dynamicBreadcrumbStore[storeItemIndex],\n                ...breadcrumb,\n            };\n        }\n        else {\n            this.dynamicBreadcrumbStore.push({ ...breadcrumb });\n        }\n    }\n    /**\n     * If breadcrumb is present in current breadcrumbs update it and emit new stream\n     */\n    updateCurrentBreadcrumbs(key, breadcrumb) {\n        const itemIndex = this.currentBreadcrumbs.findIndex((item) => {\n            return key === 'routeRegex'\n                ? this.matchRegex(item.routeLink, breadcrumb[key])\n                : breadcrumb[key] === item[key];\n        });\n        if (itemIndex > -1) {\n            this.currentBreadcrumbs[itemIndex] = {\n                ...this.currentBreadcrumbs[itemIndex],\n                ...breadcrumb,\n            };\n            const breadcrumbsToShow = this.currentBreadcrumbs.filter((item) => !item.skip);\n            this.breadcrumbs.next([...breadcrumbsToShow]);\n        }\n    }\n    /**\n     * For a route with path param, we create regex dynamically from angular route syntax\n     * '/mentor/:id' becomes '/mentor/[^/]',\n     * breadcrumbService.set('/mentor/:id', 'Uday') should update 'Uday' as label for '/mentor/2' OR 'mentor/ada'\n     */\n    buildRegex(path) {\n        return this.ensureLeadingSlash(path).replace(new RegExp(PATH_PARAM.REGEX_IDENTIFIER, 'g'), PATH_PARAM.REGEX_REPLACER);\n    }\n    ensureLeadingSlash(path) {\n        return path.startsWith('/') ? path : `/${path}`;\n    }\n    /**\n     * In App's RouteConfig, breadcrumb can be defined as a string OR a function OR an object\n     *\n     * string: simple static breadcrumb label for a path\n     * function: callback that gets invoked with resolved path param\n     * object: additional data defined along with breadcrumb label that gets passed to *xngBreadcrumbItem directive\n     */\n    extractLabel(config, resolvedParam) {\n        const label = typeof config === 'object' ? config.label : config;\n        if (typeof label === 'function') {\n            return label(resolvedParam);\n        }\n        return label;\n    }\n    extractObject(config) {\n        // don't include {label} if config is undefined. This is important since we merge the configs\n        if (config &&\n            (typeof config === 'string' || typeof config === 'function')) {\n            return { label: config };\n        }\n        return config || {};\n    }\n}\nBreadcrumbService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbService, deps: [{ token: i1.ActivatedRoute }, { token: i1.Router }], target: i0.ɵɵFactoryTarget.Injectable });\nBreadcrumbService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }, { type: i1.Router }]; } });\n\nclass BreadcrumbComponent {\n    constructor(breadcrumbService, activateRoute) {\n        this.breadcrumbService = breadcrumbService;\n        this._separator = '/';\n        /**\n         * If true, breadcrumb is auto generated even without any mapping label\n         * Default label is same as route segment\n         */\n        this.autoGenerate = true;\n        /**\n         * By default query params will be preserved with breadcrumbs\n         */\n        this.preserveQueryParams = true;\n        /**\n         * By default query fragments will be preserved with breadcrumbs\n         */\n        this.preserveFragment = true;\n        /**\n         * custom class provided by consumer to increase specificity\n         * This will benefit to override styles that are conflicting\n         */\n        this.class = '';\n        this.setupMessage = 'not set up yet';\n        this.someParameterValue = null;\n        // breadcrumb inside ngIf works only this way\n        activateRoute.params.subscribe((params) => {\n            this.setupComponent(params['someParam']);\n        });\n    }\n    /**\n     * separator between breadcrumbs, defaults to '/'.\n     * User can customize separator either by passing a String or Template\n     *\n     * String --> Ex: <xng-breadcrumb separator=\"-\"> </xng-breadcrumb>\n     *\n     * Template --> Ex: <xng-breadcrumb [separator]=\"separatorTemplate\"> </xng-breadcrumb>\n     * <ng-template #separatorTemplate><mat-icon>arrow_right</mat-icon></ng-template>\n     */\n    set separator(value) {\n        if (value instanceof TemplateRef) {\n            this.separatorTemplate = value;\n            this._separator = undefined;\n        }\n        else {\n            this.separatorTemplate = undefined;\n            this._separator = value || '/';\n        }\n    }\n    get separator() {\n        return this._separator;\n    }\n    setupComponent(someParam) {\n        this.setupMessage = 'set up at ' + new Date();\n        this.someParameterValue = someParam;\n    }\n    ngOnInit() {\n        this.breadcrumbs$ = this.breadcrumbService.breadcrumbs$.pipe(map((breadcrumbs) => {\n            return breadcrumbs\n                .filter((breadcrumb) => {\n                // Usually, breadcrumb list can contain a combination of auto generated and user specified labels\n                // this filters autogenerated labels in case of \"[autoGenerate]: false\"\n                if (this.autoGenerate) {\n                    return true;\n                }\n                return !breadcrumb.isAutoGeneratedLabel;\n            })\n                .map((breadcrumb) => {\n                // Do not mutate breadcrumb as its source of truth.\n                // There can be scenarios where we can have multiple xng-breadcrumb instances in page\n                const { routeInterceptor, routeLink } = breadcrumb;\n                return {\n                    ...breadcrumb,\n                    routeLink: routeInterceptor?.(routeLink, breadcrumb) || routeLink,\n                };\n            });\n        }));\n    }\n}\nBreadcrumbComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbComponent, deps: [{ token: BreadcrumbService }, { token: i1.ActivatedRoute }], target: i0.ɵɵFactoryTarget.Component });\nBreadcrumbComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.0.0\", type: BreadcrumbComponent, selector: \"xng-breadcrumb\", inputs: { autoGenerate: \"autoGenerate\", preserveQueryParams: \"preserveQueryParams\", preserveFragment: \"preserveFragment\", class: \"class\", anchorTarget: \"anchorTarget\", separator: \"separator\" }, queries: [{ propertyName: \"itemTemplate\", first: true, predicate: BreadcrumbItemDirective, descendants: true, read: TemplateRef }], ngImport: i0, template: \"<nav aria-label=\\\"breadcrumb\\\" class=\\\"xng-breadcrumb-root\\\" [ngClass]=\\\"class\\\">\\n  <ol class=\\\"xng-breadcrumb-list\\\">\\n    <ng-container\\n      *ngFor=\\\"\\n        let breadcrumb of breadcrumbs$ | async;\\n        last as isLast;\\n        first as isFirst;\\n        index as index;\\n        count as count\\n      \\\"\\n    >\\n      <li class=\\\"xng-breadcrumb-item\\\">\\n        <a\\n          *ngIf=\\\"!isLast\\\"\\n          class=\\\"xng-breadcrumb-link\\\"\\n          [ngClass]=\\\"{ 'xng-breadcrumb-link-disabled': breadcrumb.disable }\\\"\\n          [attr.aria-disabled]=\\\"breadcrumb.disable\\\"\\n          [attr.tabIndex]=\\\"breadcrumb.disable ? -1 : 0\\\"\\n          role=\\\"button\\\"\\n          rel=\\\"noopener noreferrer\\\"\\n          [routerLink]=\\\"\\n            breadcrumb.routeInterceptor\\n              ? breadcrumb.routeInterceptor(breadcrumb.routeLink, breadcrumb)\\n              : breadcrumb.routeLink\\n          \\\"\\n          [queryParams]=\\\"\\n            preserveQueryParams ? breadcrumb.queryParams : undefined\\n          \\\"\\n          [fragment]=\\\"preserveFragment ? breadcrumb.fragment : undefined\\\"\\n          [target]=\\\"anchorTarget ? anchorTarget : '_self'\\\"\\n        >\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </a>\\n\\n        <label *ngIf=\\\"isLast\\\" class=\\\"xng-breadcrumb-trail\\\">\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </label>\\n      </li>\\n\\n      <li *ngIf=\\\"!isLast\\\" class=\\\"xng-breadcrumb-separator\\\" aria-hidden=\\\"true\\\">\\n        <ng-container *ngTemplateOutlet=\\\"separatorTemplate\\\"></ng-container>\\n        <ng-container *ngIf=\\\"!separatorTemplate\\\">{{ separator }}</ng-container>\\n      </li>\\n    </ng-container>\\n  </ol>\\n</nav>\\n\", styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"], dependencies: [{ kind: \"directive\", type: i3.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i3.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i1.RouterLink, selector: \"[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"state\", \"relativeTo\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"routerLink\"] }, { kind: \"pipe\", type: i3.AsyncPipe, name: \"async\" }], encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'xng-breadcrumb', encapsulation: ViewEncapsulation.None, template: \"<nav aria-label=\\\"breadcrumb\\\" class=\\\"xng-breadcrumb-root\\\" [ngClass]=\\\"class\\\">\\n  <ol class=\\\"xng-breadcrumb-list\\\">\\n    <ng-container\\n      *ngFor=\\\"\\n        let breadcrumb of breadcrumbs$ | async;\\n        last as isLast;\\n        first as isFirst;\\n        index as index;\\n        count as count\\n      \\\"\\n    >\\n      <li class=\\\"xng-breadcrumb-item\\\">\\n        <a\\n          *ngIf=\\\"!isLast\\\"\\n          class=\\\"xng-breadcrumb-link\\\"\\n          [ngClass]=\\\"{ 'xng-breadcrumb-link-disabled': breadcrumb.disable }\\\"\\n          [attr.aria-disabled]=\\\"breadcrumb.disable\\\"\\n          [attr.tabIndex]=\\\"breadcrumb.disable ? -1 : 0\\\"\\n          role=\\\"button\\\"\\n          rel=\\\"noopener noreferrer\\\"\\n          [routerLink]=\\\"\\n            breadcrumb.routeInterceptor\\n              ? breadcrumb.routeInterceptor(breadcrumb.routeLink, breadcrumb)\\n              : breadcrumb.routeLink\\n          \\\"\\n          [queryParams]=\\\"\\n            preserveQueryParams ? breadcrumb.queryParams : undefined\\n          \\\"\\n          [fragment]=\\\"preserveFragment ? breadcrumb.fragment : undefined\\\"\\n          [target]=\\\"anchorTarget ? anchorTarget : '_self'\\\"\\n        >\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </a>\\n\\n        <label *ngIf=\\\"isLast\\\" class=\\\"xng-breadcrumb-trail\\\">\\n          <ng-container\\n            *ngTemplateOutlet=\\\"\\n              itemTemplate;\\n              context: {\\n                $implicit: breadcrumb.label,\\n                info: breadcrumb.info,\\n                last: isLast,\\n                first: isFirst,\\n                index: index,\\n                count: count\\n              }\\n            \\\"\\n          ></ng-container>\\n          <ng-container *ngIf=\\\"!itemTemplate\\\">{{\\n            breadcrumb.label\\n          }}</ng-container>\\n        </label>\\n      </li>\\n\\n      <li *ngIf=\\\"!isLast\\\" class=\\\"xng-breadcrumb-separator\\\" aria-hidden=\\\"true\\\">\\n        <ng-container *ngTemplateOutlet=\\\"separatorTemplate\\\"></ng-container>\\n        <ng-container *ngIf=\\\"!separatorTemplate\\\">{{ separator }}</ng-container>\\n      </li>\\n    </ng-container>\\n  </ol>\\n</nav>\\n\", styles: [\".xng-breadcrumb-root{margin:0;color:#0009}.xng-breadcrumb-list{display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}.xng-breadcrumb-item{list-style:none}.xng-breadcrumb-trail{display:flex;align-items:center;color:#000000e6}.xng-breadcrumb-link{display:flex;align-items:center;white-space:nowrap;color:inherit;text-decoration:none;transition:-webkit-text-decoration .3s;transition:text-decoration .3s;transition:text-decoration .3s,-webkit-text-decoration .3s;cursor:pointer}.xng-breadcrumb-link:hover{text-decoration:underline}.xng-breadcrumb-link-disabled{pointer-events:none;cursor:disabled}.xng-breadcrumb-separator{display:flex;-webkit-user-select:none;user-select:none;margin-left:8px;margin-right:8px}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: BreadcrumbService }, { type: i1.ActivatedRoute }]; }, propDecorators: { itemTemplate: [{\n                type: ContentChild,\n                args: [BreadcrumbItemDirective, { static: false, read: TemplateRef }]\n            }], autoGenerate: [{\n                type: Input\n            }], preserveQueryParams: [{\n                type: Input\n            }], preserveFragment: [{\n                type: Input\n            }], class: [{\n                type: Input\n            }], anchorTarget: [{\n                type: Input\n            }], separator: [{\n                type: Input,\n                args: ['separator']\n            }] } });\n\nclass BreadcrumbModule {\n}\nBreadcrumbModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nBreadcrumbModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbModule, declarations: [BreadcrumbComponent, BreadcrumbItemDirective], imports: [CommonModule, RouterModule], exports: [BreadcrumbComponent, BreadcrumbItemDirective] });\nBreadcrumbModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbModule, imports: [CommonModule, RouterModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.0\", ngImport: i0, type: BreadcrumbModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [BreadcrumbComponent, BreadcrumbItemDirective],\n                    imports: [CommonModule, RouterModule],\n                    exports: [BreadcrumbComponent, BreadcrumbItemDirective],\n                }]\n        }] });\n\n/*\n * Public API Surface of xng-breadcrumb\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BreadcrumbComponent, BreadcrumbItemDirective, BreadcrumbModule, BreadcrumbService };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}